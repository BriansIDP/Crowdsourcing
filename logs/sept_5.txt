python main.py policy=majority_vote data_loader=truthfulqa_bin
-- acc=0.838, f1=0.813
python main.py --multirun policy=em_sym_bin "policy.params.seed=range(5)" data_loader=truthfulqa_bin
-- acc=0.838, f1=0.813
python main.py --multirun policy=em_asym_bin "policy.params.seed=range(5)" data_loader=truthfulqa_bin
-- acc=0.841, f1=0.822
python main.py  
-- acc=0.845

data_loader_params=(
    "data_loader=halu_dial_bin_lm"
    "data_loader.params.data_path='data/truthfulQA/truthful_qa.json'"
    "data_loader.params.task=truthfulqa"
    "data_loader.params.evidence_llm=['hermes70B','llama370B','mixtral','athene','qwen272B']"
    "data_loader.params.cross_val=False"
    "data_loader.params.nfolds=5"
)

policy_params=(
    "policy=lm_mv"
    "policy.params.model_dir='exp/truthfulqa/lm_mv'"
    "policy.params.lr=1e-5"
    "policy.params.weight_decay=0"
    "policy.params.batch_size=8"
    "policy.params.patience=2"
    "policy.params.log_interval=200"
)

    "policy.params.model_dir='exp/truthfulqa/lm_gt/2024-09-05_16-13-08'"

neural_net_params=(
    "neural_net=lm_plus_one_layer"
    "neural_net.params.no_freeze_lm=True"
    "neural_net.params.dropout_prob=0"
)

# Combine all parameters into one array
all_params=("${data_loader_params[@]}" "${policy_params[@]}" "${neural_net_params[@]}")
# Run the Python script with the combined parameters
python main_nn.py "${all_params[@]}"


# Combine all parameters into one array
all_params=("${data_loader_params[@]}" "${policy_params[@]}" "${neural_net_params[@]}")
# Run the Python script with the combined parameters
python eval_checkpoint.py "${all_params[@]}" eval.epochs=[1,3,1,1,5]

# Combine all parameters into one array
all_params=("${data_loader_params[@]}" "${policy_params[@]}" "${neural_net_params[@]}")
# Run the Python script with the combined parameters
python worker_agg/gen_embeddings.py "${all_params[@]}"


data_loader_params=(
    "data_loader=truthfulqa_bin"
)

policy_params=(
    "policy=avg_ssl_preds"
    "policy.params.lr=1e-3"
    "policy.params.weight_decay=1e-2"
    "policy.params.loss_fn_type='bce'"
    "policy.params.logits=False"
    "policy.params.use_joblib_fit=True"
)

neural_net_params=(
    "neural_net=two_layer_mlp"
    "neural_net.params.hidden_size=100"
    "neural_net.params.seed=0"
)

# Combine all parameters into one array
all_params=("${data_loader_params[@]}" "${policy_params[@]}" "${neural_net_params[@]}")
# Run the Python script with the combined parameters
python main.py "${all_params[@]}"
